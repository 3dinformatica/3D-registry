{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "util-date-formatters",
  "type": "registry:lib",
  "title": "Date Formatters Utility",
  "description": "A utility functions to format dates in various formats. Supports multiple date formats including ISO, European, US, and readable formats with month names.",
  "dependencies": [],
  "files": [
    {
      "path": "registry/utils/util-date-formatters/util-date-formatters.ts",
      "content": "/**\n * Formats a date for HTML form input fields (type=\"date\").\n * Returns the date in ISO format (YYYY-MM-DD) suitable for date input fields.\n *\n * @param date - Optional Date object to format\n * @returns Formatted date string (YYYY-MM-DD) or \"-\" if date is not provided\n *\n * @example\n * formatFormDate(new Date(2024, 0, 15)) // Returns \"2024-01-15\"\n */\nexport function formatFormDate(date?: Date | undefined): string {\n  if (!date) return \"-\";\n  return date.toISOString().split(\"T\")[0];\n}\n\n/**\n * Formats a date in Italian format (DD/MM/YYYY).\n * Used for displaying dates in the UI with day/month/year format.\n *\n * @param date - Optional Date object to format (can be null)\n * @returns Formatted date string (DD/MM/YYYY) or \"-\" if date is not provided\n *\n * @example\n * formatDate(new Date(2024, 0, 15)) // Returns \"15/01/2024\"\n */\nexport function formatDate(date?: Date | null | undefined): string {\n  if (!date) return \"-\";\n  const day = String(date.getDate()).padStart(2, \"0\");\n  const month = String(date.getMonth() + 1).padStart(2, \"0\");\n  const year = date.getFullYear();\n\n  return `${day}/${month}/${year}`;\n}\n\n/**\n * Formats a date for filter queries (YYYY-MM-DD).\n * Used when sending date filters to the API or for date range filtering.\n *\n * @param d - Date object to format\n * @returns Formatted date string in ISO date format (YYYY-MM-DD)\n *\n * @example\n * filterFormatDate(new Date(2024, 0, 15)) // Returns \"2024-01-15\"\n */\nexport const filterFormatDate = (d: Date) => {\n  return `${d.getFullYear()}-${String(d.getMonth() + 1).padStart(2, \"0\")}-${String(d.getDate()).padStart(2, \"0\")}`;\n};\n\n/**\n * Formats a date for API requests in full ISO 8601 format.\n * Returns the complete ISO string including time and timezone information.\n *\n * @param date - Optional Date object to format (can be null)\n * @returns ISO 8601 formatted string (YYYY-MM-DDTHH:mm:ss.sssZ) or empty string if date is not provided\n *\n * @example\n * formatDateForAPI(new Date()) // Returns \"2024-01-15T10:30:00.000Z\"\n */\nexport function formatDateForAPI(date?: Date | null | undefined): string {\n  if (!date) return \"\";\n  return date.toISOString(); // Restituisce il formato completo ISO 8601\n}\n\n/**\n * Formats a timestamp with date and time in Italian locale.\n * Displays both date and time in a readable format (DD/MM/YYYY, HH:mm).\n *\n * @param timestamp - Optional Date object representing the timestamp\n * @returns Formatted string with date and time (DD/MM/YYYY, HH:mm) or \"-\" if timestamp is not provided\n *\n * @example\n * formatTimestamp(new Date(2024, 0, 15, 14, 30)) // Returns \"15/01/2024, 14:30\"\n */\nexport function formatTimestamp(timestamp?: Date | undefined): string {\n  if (!timestamp) return \"-\";\n  const formatter = new Intl.DateTimeFormat(\"it-IT\", {\n    day: \"2-digit\",\n    month: \"2-digit\",\n    year: \"numeric\",\n    hour: \"2-digit\",\n    minute: \"2-digit\",\n    hour12: false,\n  });\n\n  return formatter.format(timestamp);\n}\n\n/**\n * Formats a date string with time in a custom Italian format.\n * Displays date with abbreviated month name and time (DD MMM YYYY - HH:mm).\n *\n * @param dateString - Optional date string to parse and format\n * @returns Formatted string (e.g., \"15 gen 2024 - 14:30\") or \"-\" if dateString is not provided\n *\n * @example\n * formatDateWithTime(\"2024-01-15T14:30:00Z\") // Returns \"15 gen 2024 - 14:30\"\n */\nexport function formatDateWithTime(dateString: string | undefined) {\n  if (!dateString) return \"-\";\n  const date = new Date(dateString);\n  const day = date.getDate().toString().padStart(2, \"0\");\n  const month = date.toLocaleDateString(\"it-IT\", { month: \"short\" });\n  const year = date.getFullYear();\n  const hours = date.getHours().toString().padStart(2, \"0\");\n  const minutes = date.getMinutes().toString().padStart(2, \"0\");\n\n  return `${day} ${month} ${year} - ${hours}:${minutes}`;\n}\n\n/**\n * Calculates and formats the time elapsed since a given date.\n * Returns a human-readable Italian string describing how long ago the date was.\n *\n * @param lastUpdate - Date object representing the time to compare against now\n * @returns Italian string describing the time elapsed (e.g., \"5 minuti fa\", \"2 ore fa\", \"3 giorni fa\")\n *          Returns \"Ora\" for less than 1 minute, \"Unknown\" for edge cases\n *\n * @example\n * formatTimeSinceLastUpdate(new Date(Date.now() - 5 * 60 * 1000)) // Returns \"5 minuti fa\"\n * formatTimeSinceLastUpdate(new Date(Date.now() - 2 * 60 * 60 * 1000)) // Returns \"2 ore fa\"\n */\nexport function formatTimeSinceLastUpdate(lastUpdate: Date): string {\n  const now = new Date();\n  const diffInMs = now.getTime() - lastUpdate.getTime();\n  const minutes = Math.floor(diffInMs / 60000); // Convert milliseconds to minutes\n\n  if (minutes < 1) return \"Ora\";\n  if (minutes < 60) return `${minutes} minuti fa`;\n  if (minutes > 60 && minutes < 120)\n    return `${Math.floor(minutes / 60)} ora fa`;\n  if (minutes > 120 && minutes < 1440)\n    return `${Math.floor(minutes / 60)} ore fa`;\n  if (minutes > 1440 && minutes < 10080)\n    return `${Math.floor(minutes / 1440)} giorni fa`;\n  if (minutes > 10080) return `${Math.floor(minutes / 10080)} settimane fa`;\n\n  return \"Unknown\";\n}\n",
      "type": "registry:lib",
      "target": "lib/utils/util-date-formatters.ts"
    }
  ]
}